var Dt=r=>{throw TypeError(r)};var pt=(r,t,e)=>t.has(r)||Dt("Cannot "+e);var f=(r,t,e)=>(pt(r,t,"read from private field"),e?e.call(r):t.get(r)),M=(r,t,e)=>t.has(r)?Dt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),b=(r,t,e,n)=>(pt(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Nt=(r,t,e)=>(pt(r,t,"access private method"),e);import{f as lt,b as it}from"../chunks/MXroN0Bw.js";import"../chunks/D2yIAmd-.js";import{z as re,q as C,h as ne,Y as p,a9 as ae,A as se,B as ie,C as It,c as Pt,s as yt,d as nt,f as oe,D as Xt,p as qt,F as le,ao as mt,m as Bt,u as Rt,ap as ce,ae as fe,aq as Y,ar as de,as as ue,l as he,at as ge,R as pe,au as ye,av as me,a as ve,P as _e,aw as xe,ax as be,ay as we,az as ke,I as Se,ad as T,aA as Me,Q as Te,r as Gt,a0 as at,$ as Vt,v as Wt,al as ut,a2 as Kt,a1 as st,an as Ee,T as Ae}from"../chunks/-ZFd-cl3.js";import{i as Ue,b as Qt}from"../chunks/DQVHAmHL.js";import{d as ze,e as Ce}from"../chunks/BmZ1GzIV.js";import{b as w}from"../chunks/CUTetjqP.js";function De(r,t,e,n){for(var a=[],i=t.length,o=0;o<i;o++)ue(t[o].e,a,!0);var c=i>0&&a.length===0&&e!==null;if(c){var d=e.parentNode;he(d),d.append(e),n.clear(),L(r,t[0].prev,t[i-1].next)}ge(a,()=>{for(var v=0;v<i;v++){var s=t[v];c||(n.delete(s.k),L(r,s.prev,s.next)),pe(s.e,!c)}})}function Ne(r,t,e,n,a,i=null){var o=r,c={flags:t,items:new Map,first:null};C&&ne();var d=null,v=!1,s=ae(()=>{var y=e();return _e(y)?y:y==null?[]:Bt(y)});re(()=>{var y=p(s),l=y.length;if(v&&l===0)return;v=l===0;let u=!1;if(C){var h=se(o)===ie;h!==(l===0)&&(o=It(),Pt(o),yt(!1),u=!0)}if(C){for(var x=null,m,g=0;g<l;g++){if(nt.nodeType===8&&nt.data===oe){o=nt,u=!0,yt(!1);break}var k=y[g],W=n(k,g);m=Jt(nt,c,x,null,k,W,g,a,t,e),c.items.set(W,m),x=m}l>0&&Pt(It())}C||Ie(y,c,o,a,t,n,e),i!==null&&(l===0?d?Xt(d):d=qt(()=>i(o)):d!==null&&le(d,()=>{d=null})),u&&yt(!0),p(s)}),C&&(o=nt)}function Ie(r,t,e,n,a,i,o){var c=r.length,d=t.items,v=t.first,s=v,y,l=null,u=[],h=[],x,m,g,k;for(k=0;k<c;k+=1){if(x=r[k],m=i(x,k),g=d.get(m),g===void 0){var W=s?s.e.nodes_start:e;l=Jt(W,t,l,l===null?t.first:l.next,x,m,k,n,a,o),d.set(m,l),u=[],h=[],s=l.next;continue}if(Pe(g,x,k),(g.e.f&mt)!==0&&Xt(g.e),g!==s){if(y!==void 0&&y.has(g)){if(u.length<h.length){var K=h[0],E;l=K.prev;var ct=u[0],$=u[u.length-1];for(E=0;E<u.length;E+=1)Lt(u[E],K,e);for(E=0;E<h.length;E+=1)y.delete(h[E]);L(t,ct.prev,$.next),L(t,l,ct),L(t,$,K),s=K,l=$,k-=1,u=[],h=[]}else y.delete(g),Lt(g,s,e),L(t,g.prev,g.next),L(t,g,l===null?t.first:l.next),L(t,l,g),l=g;continue}for(u=[],h=[];s!==null&&s.k!==m;)(s.e.f&mt)===0&&(y??(y=new Set)).add(s),h.push(s),s=s.next;if(s===null)continue;g=s}u.push(g),l=g,s=g.next}if(s!==null||y!==void 0){for(var tt=y===void 0?[]:Bt(y);s!==null;)(s.e.f&mt)===0&&tt.push(s),s=s.next;var S=tt.length;if(S>0){var ft=null;De(t,tt,ft,d)}}Rt.first=t.first&&t.first.e,Rt.last=l&&l.e}function Pe(r,t,e,n){ce(r.i,e)}function Jt(r,t,e,n,a,i,o,c,d,v){var s=(d&ye)!==0,y=(d&me)===0,l=s?y?fe(a,!1,!1):Y(a):a,u=(d&de)===0?o:Y(o),h={i:u,v:l,k:i,a:null,e:null,prev:e,next:n};try{return h.e=qt(()=>c(r,l,u,v),C),h.e.prev=e&&e.e,h.e.next=n&&n.e,e===null?t.first=h:(e.next=h,e.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function Lt(r,t,e){for(var n=r.next?r.next.e.nodes_start:e,a=t?t.e.nodes_start:e,i=r.e.nodes_start;i!==n;){var o=ve(i);a.before(i),i=o}}function L(r,t,e){t===null?r.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}const Ht=[...` 	
\r\f \v\uFEFF`];function Re(r,t,e){var n=r==null?"":""+r;if(e){for(var a in e)if(e[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,o=0;(o=n.indexOf(a,o))>=0;){var c=o+i;(o===0||Ht.includes(n[o-1]))&&(c===n.length||Ht.includes(n[c]))?n=(o===0?"":n.substring(0,o))+n.substring(c+1):o=c}}return n===""?null:n}function Le(r,t){return r==null?null:String(r)}function He(r,t,e,n,a,i){var o=r.__className;if(C||o!==e||o===void 0){var c=Re(e,n,i);(!C||c!==r.getAttribute("class"))&&(c==null?r.removeAttribute("class"):r.className=c),r.__className=e}else if(i&&a!==i)for(var d in i){var v=!!i[d];(a==null||v!==!!a[d])&&r.classList.toggle(d,v)}return i}function _t(r,t,e,n){var a=r.__style;if(C||a!==t){var i=Le(t);(!C||i!==r.getAttribute("style"))&&(i==null?r.removeAttribute("style"):r.style.cssText=i),r.__style=t}return n}const Oe=Symbol("is custom element"),Fe=Symbol("is html");function J(r,t,e,n){var a=Ye(r);C&&(a[t]=r.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&r.nodeName==="LINK")||a[t]!==(a[t]=e)&&(t==="loading"&&(r[xe]=e),e==null?r.removeAttribute(t):typeof e!="string"&&Xe(r).includes(t)?r[t]=e:r.setAttribute(t,e))}function Ye(r){return r.__attributes??(r.__attributes={[Oe]:r.nodeName.includes("-"),[Fe]:r.namespaceURI===be})}var Ot=new Map;function Xe(r){var t=Ot.get(r.nodeName);if(t)return t;Ot.set(r.nodeName,t=[]);for(var e,n=r,a=Element.prototype;a!==n;){e=ke(n);for(var i in e)e[i].set&&t.push(i);n=we(n)}return t}const qe=()=>performance.now(),D={tick:r=>requestAnimationFrame(r),now:()=>qe(),tasks:new Set};function Zt(){const r=D.now();D.tasks.forEach(t=>{t.c(r)||(D.tasks.delete(t),t.f())}),D.tasks.size!==0&&D.tick(Zt)}function Be(r){let t;return D.tasks.size===0&&D.tick(Zt),{promise:new Promise(e=>{D.tasks.add(t={c:r,f:e})}),abort(){D.tasks.delete(t)}}}const F=(r,t=3)=>parseFloat(r.toFixed(t)),vt=(r,t=0,e=100)=>Math.min(Math.max(r,t),e),Ft=(r,t,e,n,a)=>F(n+(a-n)*(r-t)/(e-t)),Ge=(r,t,e)=>{const n=r*Math.PI/180;return{x:t*Math.cos(n),y:e*Math.sin(n)}};function Yt(r){return Object.prototype.toString.call(r)==="[object Date]"}function xt(r,t,e,n){if(typeof e=="number"||Yt(e)){const a=n-e,i=(e-t)/(r.dt||1/60),o=r.opts.stiffness*a,c=r.opts.damping*i,d=(o-c)*r.inv_mass,v=(i+d)*r.dt;return Math.abs(v)<r.opts.precision&&Math.abs(a)<r.opts.precision?n:(r.settled=!1,Yt(e)?new Date(e.getTime()+v):e+v)}else{if(Array.isArray(e))return e.map((a,i)=>xt(r,t[i],e[i],n[i]));if(typeof e=="object"){const a={};for(const i in e)a[i]=xt(r,t[i],e[i],n[i]);return a}else throw new Error(`Cannot spring ${typeof e} values`)}}var X,q,B,A,H,G,Z,V,ot,P,j,gt,jt;const bt=class bt{constructor(t,e={}){M(this,gt);M(this,X,Y(.15));M(this,q,Y(.8));M(this,B,Y(.01));M(this,A);M(this,H);M(this,G);M(this,Z,0);M(this,V,1);M(this,ot,0);M(this,P,null);M(this,j,null);b(this,A,Y(t)),b(this,H,Y(t)),typeof e.stiffness=="number"&&(f(this,X).v=ht(e.stiffness,0,1)),typeof e.damping=="number"&&(f(this,q).v=ht(e.damping,0,1)),typeof e.precision=="number"&&(f(this,B).v=e.precision)}static of(t,e){const n=new bt(t(),e);return Se(()=>{n.set(t())}),n}set(t,e){var a,i;if((a=f(this,j))==null||a.reject(new Error("Aborted")),e!=null&&e.instant||f(this,A).v===void 0)return(i=f(this,P))==null||i.abort(),b(this,P,null),T(f(this,A),T(f(this,H),t)),b(this,G,t),Promise.resolve();e!=null&&e.preserveMomentum&&(b(this,V,0),b(this,ot,e.preserveMomentum));var n=b(this,j,Me());return n.promise.catch(Te),Nt(this,gt,jt).call(this,t).then(()=>{n===f(this,j)&&n.resolve(void 0)}),n.promise}get current(){return p(f(this,A))}get damping(){return p(f(this,q))}set damping(t){T(f(this,q),ht(t,0,1))}get precision(){return p(f(this,B))}set precision(t){T(f(this,B),t)}get stiffness(){return p(f(this,X))}set stiffness(t){T(f(this,X),ht(t,0,1))}get target(){return p(f(this,H))}set target(t){this.set(t)}};X=new WeakMap,q=new WeakMap,B=new WeakMap,A=new WeakMap,H=new WeakMap,G=new WeakMap,Z=new WeakMap,V=new WeakMap,ot=new WeakMap,P=new WeakMap,j=new WeakMap,gt=new WeakSet,jt=function(t){var n;if(T(f(this,H),t),(n=f(this,A)).v??(n.v=t),f(this,G)??b(this,G,f(this,A).v),!f(this,P)){b(this,Z,D.now());var e=1e3/(f(this,ot)*60);f(this,P)??b(this,P,Be(a=>{b(this,V,Math.min(f(this,V)+e,1));const i=Math.min(a-f(this,Z),1e3/30),o={inv_mass:f(this,V),opts:{stiffness:f(this,X).v,damping:f(this,q).v,precision:f(this,B).v},settled:!0,dt:i*60/1e3};var c=xt(o,f(this,G),f(this,A).v,f(this,H).v);return b(this,G,f(this,A).v),b(this,Z,a),T(f(this,A),c),o.settled&&b(this,P,null),!o.settled}))}return f(this,P).promise};let z=bt;function ht(r,t,e){return Math.max(t,Math.min(e,r))}const I=(r=()=>{},t=0)=>()=>new Promise(e=>{setTimeout(()=>{r(),e()},t)}),Ve={3:{imageUrl:`${w}/cards/1-edition-1/3.png`,maskUrl:`${w}/cards/1-edition-1/3-mask.png`,foilUrl:`${w}/cards/1-edition-1/3-foil.png`,rarity:"common",glowType:"psychic"},5:{imageUrl:`${w}/cards/1-edition-1/5.png`,maskUrl:`${w}/cards/1-edition-1/5-mask.png`,foilUrl:`${w}/cards/1-edition-1/5-foil.png`,rarity:"rainbow",glowType:"psychic"},12:{imageUrl:`${w}/cards/1-edition-1/12.png`,maskUrl:`${w}/cards/1-edition-1/12-mask.png`,foilUrl:`${w}/cards/1-edition-1/12-foil.png`,rarity:"common",glowType:"psychic"},15:{imageUrl:`${w}/cards/1-edition-1/15.png`,maskUrl:`${w}/cards/1-edition-1/15-mask.png`,foilUrl:`${w}/cards/1-edition-1/15-foil.png`,rarity:"common",glowType:"psychic"},23:{imageUrl:`${w}/cards/1-edition-1/23.png`,maskUrl:`${w}/cards/1-edition-1/23-mask.png`,foilUrl:`${w}/cards/1-edition-1/23-foil.png`,rarity:"common",glowType:"psychic"}},We={"edition-1":Ve},Ke={common:"none",rainbow:"v_regular"},Qe={none:{},amazing_rare:{rarity:"amazing rare"},cosmos_holo:{rarity:"rare holo cosmos"},radiant_holo:{rarity:"radiant rare"},rainbow_alt:{rarity:"rare rainbow alt"},rainbow_holo:{rarity:"rare rainbow"},regular_holo:{rarity:"rare holo"},reverse_holo:{rarity:"reverse holo"},secret_rare:{rarity:"rare secret"},shiny_rare:{rarity:"rare shiny"},shiny_v:{rarity:"rare shiny v"},shiny_vmax:{rarity:"rare shiny vmax"},swsh_pikachu:{rarity:"rare secret",set:"swsh12pt5",number:"160"},trainer_full_art:{rarity:"rare ultra",subtypes:"supporter"},trainer_gallery_holo:{rarity:"trainer gallery rare holo"},trainer_gallery_secret_rare:{rarity:"rare secret","trainer-gallery":"true"},trainer_gallery_v_max:{rarity:"rare holo vmax","trainer-gallery":"true"},trainer_gallery_v_regular:{rarity:"rare holo v","trainer-gallery":"true"},v_full_art:{rarity:"rare ultra",supertype:"pokémon"},v_max:{rarity:"rare holo vmax"},v_max_pokemon:{rarity:"rare holo vmax",supertype:"pokémon"},v_regular:{rarity:"rare holo v"},v_star:{rarity:"rare holo vstar"}},Je=(r,t)=>{var e;(e=t.onclick)==null||e.call(t,r)};var Ze=lt('<div class="card__back"></div>'),je=lt('<div><div class="card__translater"><button class="card__rotator" tabindex="0" aria-label="card"><!> <div class="card__front"><div class="card__shine"></div> <div class="card__glare"></div></div></button></div></div>');function $t(r,t){var St,Mt,Tt,Et,At,Ut,zt,Ct;Gt(t,!0);const e={stiffness:.066,damping:.25},n={stiffness:.033,damping:.45};let a=ut(!1),i=ut(!1),o=new z({x:50,y:50},e),c=new z({x:50,y:50,o:0},e),d=new z({x:0,y:0,z:0},e),v=new z({x:0,y:0},n),s=new z(1,n),y=new z(1,n),l=new z({x:t.startsFlipped?180:0,y:0,z:0},n),u=ut(null),h=ut(null);t.card!=null&&t.cardSet!=null&&(T(u,((St=We[t.cardSet])==null?void 0:St[t.card])??null,!0),T(h,Qe[Ke[((Mt=p(u))==null?void 0:Mt.rarity)??"common"]],!0));const x={x:Math.random(),y:Math.random()},m={x:Math.floor(x.x*734),y:Math.floor(x.y*1280)},g=`
        ${(Tt=p(u))!=null&&Tt.imageUrl?`background-image: url('${((Et=p(u))==null?void 0:Et.imageUrl)??""}');`:""}
        --seedx: ${x.x};
        --seedy: ${x.y};
        --cosmosbg: ${m.x}px ${m.y}px;
    `,k=`
        ${(At=p(u))!=null&&At.maskUrl?`--mask: url(${((Ut=p(u))==null?void 0:Ut.maskUrl)??""});`:""}
        ${(zt=p(u))!=null&&zt.foilUrl?`--foil: url(${((Ct=p(u))==null?void 0:Ct.foilUrl)??""});`:""}
    `;let W=Ee(()=>`
            --pointer-x: ${c.current.x}%;
            --pointer-y: ${c.current.y}%;
            --pointer-from-center: ${vt(Math.sqrt((c.current.y-50)*(c.current.y-50)+(c.current.x-50)*(c.current.x-50))/50,0,1)};
            --pointer-from-top: ${c.current.y/100};
            --pointer-from-left: ${c.current.x/100};
            --card-opacity: ${c.current.o};
            --rotate-x: ${d.current.x+l.current.x}deg;
            --rotate-y: ${d.current.y+l.current.y}deg;
            --rotate-z: ${d.current.z+l.current.z}deg;
            --background-x: ${o.current.x}%;
            --background-y: ${o.current.y}%;
            --card-scale: ${s.current};
            --translate-x: ${v.current.x}px;
            --translate-y: ${v.current.y}px;

            opacity: ${y.current};
        `);const K=(_,U,R)=>{o.stiffness=e.stiffness,o.damping=e.damping,d.stiffness=e.stiffness,d.damping=e.damping,c.stiffness=e.stiffness,c.damping=e.damping,o.set(_),d.set(U),c.set(R)},E=(_,U=500)=>{setTimeout(()=>{T(a,!1),d.stiffness=.01,d.damping=.06,d.set({x:0,y:0,z:0}),c.stiffness=.01,c.damping=.06,c.set({x:50,y:50,o:0}),o.stiffness=.01,o.damping=.06,o.set({x:50,y:50})},U)},ct=_=>{if(p(i))return;T(a,!0);let U=_.clientX,R=_.clientY;_.type==="touchmove"&&(U=_.touches[0].clientX,R=_.touches[0].clientY);const O=_.target.getBoundingClientRect(),et={x:U-O.left,y:R-O.top},N={x:vt(F(100/O.width*et.x)),y:vt(F(100/O.height*et.y))},rt={x:N.x-50,y:N.y-50};K({x:Ft(N.x,0,100,37,63),y:Ft(N.y,0,100,33,67)},{x:F(-(rt.x/3.5)),y:F(rt.y/2),z:0},{x:F(N.x),y:F(N.y),o:1})},$=()=>{l.set({x:l.target.x+180,y:0,z:0})},tt=()=>{p(i)||(T(i,!0),T(a,!1),E(null,0),s.damping=.15,s.stiffness=.5,l.damping=.15,l.stiffness=.5,y.damping=1,y.stiffness=.25,I()().then(I(()=>{s.set(.85),l.set({x:0,y:0,z:-5})},100)).then(I(()=>{s.set(1),l.set({x:0,y:0,z:0})},75)).then(I(()=>{s.set(.85),l.set({x:0,y:0,z:-9})},500)).then(I(()=>{s.set(1),l.set({x:0,y:0,z:0})},75)).then(I(()=>{s.set(1.5),l.set({x:0,y:0,z:-30}),y.set(0)},600)).then(I(()=>{var _;(_=t.onopened)==null||_.call(t)},50)))};var S=je();let ft;var wt=at(S),Q=at(wt);Q.__pointermove=ct,Q.__mouseout=E,Q.__click=[Je,t];var kt=at(Q);{var te=_=>{var U=Ze();it(_,U)};Ue(kt,_=>{t.cardPack||_(te)})}var ee=Kt(kt,2);return st(Q),st(wt),st(S),Vt(_=>{var U,R,dt,O,et,N,rt;ft=He(S,1,`card ${((U=p(u))==null?void 0:U.glowType)??""??""} interactive masked ${t.cardPack?`${t.cardPack} card-pack`:""}`,null,ft,_),_t(S,p(W)),J(S,"data-rarity",((R=p(h))==null?void 0:R.rarity)??""),J(S,"data-subtypes",((dt=p(h))==null?void 0:dt.subtypes)??""),J(S,"data-supertype",((O=p(h))==null?void 0:O.supertype)??""),J(S,"data-trainer-gallery",((et=p(h))==null?void 0:et["trainer-gallery"])??""),J(S,"data-set",((N=p(h))==null?void 0:N.set)??""),J(S,"data-number",((rt=p(h))==null?void 0:rt.number)??""),_t(ee,g+k)},[()=>({interacting:p(a)})]),Ce("blur",Q,E),it(r,S),Wt({flip:$,openPack:tt})}ze(["pointermove","mouseout","click"]);function $e(r,t){let e;Qt($t(r,{get card(){return t.cardNumber},get startsFlipped(){return t.startsFlipped},get cardSet(){return t.cardSet},onclick:a=>{a.preventDefault(),a.stopPropagation(),e.flip()}}),a=>e=a,()=>e)}var tr=lt("<div><!></div>"),er=lt("<!> <!>",1);function rr(r,t){Gt(t,!0);let e,n=[],a=[];for(let s=0;s<t.cardContents.length;s++)n.push(new z(0)),a.push(new z({x:0,y:0}));const i=s=>{s.preventDefault(),s.stopPropagation(),e.openPack()},o=()=>{const s=()=>{const l=180/(t.cardContents.length-1),u=800,h=window.innerHeight/4.5;let x=I()();for(let m=0;m<t.cardContents.length;m++)x=x.then(I(()=>{n[m].damping=.05,n[m].stiffness=.005,a[m].damping=.05,a[m].stiffness=.005,n[m].set(1);const g=Ge(-180+m*l,u,h);a[m].set({x:(window.innerWidth-20)/t.cardContents.length*m-(window.innerWidth-20)/2+20,y:g.y})},75));return x};s().then(()=>{addEventListener("resize",()=>{s()})})};var c=er(),d=Ae(c);Qt($t(d,{get cardPack(){return t.cardSet},onclick:i,onopened:o}),s=>e=s,()=>e);var v=Kt(d,2);Ne(v,18,()=>t.cardContents,s=>s,(s,y,l)=>{var u=tr(),h=at(u);$e(h,{get cardNumber(){return y},get cardSet(){return t.cardSet},startsFlipped:!0}),st(u),Vt(()=>_t(u,`
            position: absolute;
            display: inline-block;
            z-index: 10;
            transform:
                scale(${n[p(l)].current??""})
                translate(${a[p(l)].current.x??""}px, ${a[p(l)].current.y??""}px)
                translateX(50%);
        `)),it(s,u)}),it(r,c),Wt()}var nr=lt('<div class="center"><!></div>');function dr(r){var t=nr(),e=at(t);rr(e,{cardSet:"edition-1",cardContents:[23,15,3,5,12]}),st(t),it(r,t)}export{dr as component};
